{"version":3,"sources":["components/Personform.js","components/Persons.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Personform","_ref","nameChange","numberChange","name","number","onSubmit","react_default","a","createElement","value","onChange","type","Persons","contacts","deletePerson","map","i","key","onClick","e","person","preventDefault","Filter","filter","Notification","message","error","className","baseURL","services_persons","axios","get","then","response","data","post","console","log","delete","id","updatedPerson","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","filterString","setNewFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","catch","err","filteredContacts","toLowerCase","includes","components_Notification","components_Filter","event","target","components_Personform","filteredArr","length","window","confirm","concat","p","updated","objectSpread","returnedPerson","setTimeout","components_Persons","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"0OAiBeA,SAfI,SAAAC,GAA0D,IAAvDC,EAAuDD,EAAvDC,WAAYC,EAA2CF,EAA3CE,aAAcC,EAA6BH,EAA7BG,KAAMC,EAAuBJ,EAAvBI,OAAQC,EAAeL,EAAfK,SAC5D,OACEC,EAAAC,EAAAC,cAAA,QAAMH,SAAUA,GACdC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,+BADF,SAEQF,EAAAC,EAAAC,cAAA,SAAOC,MAAON,EAAMO,SAAUT,IAFtC,WAE6D,IAC3DK,EAAAC,EAAAC,cAAA,SAAOC,MAAOL,EAAQM,SAAUR,KAElCI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQG,KAAK,UAAb,WCcOC,EAvBC,SAAAZ,GAAgC,IAA7Ba,EAA6Bb,EAA7Ba,SAAUC,EAAmBd,EAAnBc,aAM3B,OACER,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACGK,EAASE,IAAI,SAAAC,GAAC,OACbV,EAAAC,EAAAC,cAAA,MAAIS,IAAKD,EAAEb,KAAOa,EAAEZ,OAAS,OAC3BE,EAAAC,EAAAC,cAAA,MAAIS,IAAKD,EAAEb,KAAOa,EAAEZ,OAAS,GAAIY,EAAEb,MACnCG,EAAAC,EAAAC,cAAA,MAAIS,IAAKD,EAAEb,KAAOa,EAAEZ,OAAS,GAAIY,EAAEZ,QACnCE,EAAAC,EAAAC,cAAA,MAAIS,IAAKD,EAAEb,KAAOa,EAAEZ,OAAS,GAC3BE,EAAAC,EAAAC,cAAA,UAAQU,QAAS,SAAAC,GAAC,OAbLC,EAaqBJ,EAAHG,EAZnCE,sBACNP,EAAaM,GAFE,IAAQA,IAab,iBCNCE,EARA,SAAAtB,GAA0B,IAAvBuB,EAAuBvB,EAAvBuB,OAAQb,EAAeV,EAAfU,SACxB,OACEJ,EAAAC,EAAAC,cAAA,iCACqBF,EAAAC,EAAAC,cAAA,SAAOC,MAAOc,EAAQb,SAAUA,MCK1Cc,EARM,SAAAxB,GAAwB,IAArByB,EAAqBzB,EAArByB,QAASC,EAAY1B,EAAZ0B,MAC/B,OAAgB,OAAZD,EACK,KAGFnB,EAAAC,EAAAC,cAAA,OAAKmB,UAAWD,EAAQ,QAAU,WAAYD,oBCNjDG,EAAU,gBAuBDC,EArBI,WAEjB,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAmB5BL,EAhBC,SAAAT,GAEd,OADgBU,IAAMK,KAAKP,EAASR,GACrBY,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAc5BL,EAXM,SAAAT,GAGnB,OAFAgB,QAAQC,IAAI,WAAYjB,GACRU,IAAMQ,OAAOV,EAAUR,EAAOmB,IAC/BP,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQ5BL,EALA,SAACT,EAAQoB,GAEtB,OADgBV,IAAMW,IAAIb,EAAUR,EAAOmB,GAAIC,GAChCR,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QCsI5BQ,EAnJH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTK,EADSH,EAAA,GACAI,EADAJ,EAAA,GAAAK,EAEcN,mBAAS,IAFvBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAETE,EAFSD,EAAA,GAEAE,EAFAF,EAAA,GAAAG,EAGkBV,mBAAS,IAH3BW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAGTE,EAHSD,EAAA,GAGEE,EAHFF,EAAA,GAAAG,EAIqBd,mBAAS,IAJ9Be,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAITE,EAJSD,EAAA,GAIKE,EAJLF,EAAA,GAAAG,EAKsClB,mBAAS,CAC7DnB,QAAS,KACTC,OAAO,IAPOqC,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAKTE,EALSD,EAAA,GAKYE,EALZF,EAAA,GAUhBG,oBAAU,WACRC,IAEGnC,KAAK,SAAAoC,GACJnB,EAAWmB,KAEZC,MAAM,SAAAC,GAAG,OAAIlC,QAAQC,IAAI,SAAUiC,MACrC,IAEH,IA2FMC,EAAmBvB,EAAQzB,OAAO,SAAAH,GAAM,OAC5CA,EAAOjB,KAAKqE,cAAcC,SAASb,EAAaY,iBAelD,OACElE,EAAAC,EAAAC,cAAA,OAAKmB,UAAU,OACbrB,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAACkE,EAAD,CACEjD,QAASuC,EAAoBvC,QAC7BC,MAAOsC,EAAoBtC,QAE7BpB,EAAAC,EAAAC,cAACmE,EAAD,CAAQjE,SAXe,SAAAkE,GACzBf,EAAae,EAAMC,OAAOpE,QAUcc,OAAQqC,IAC9CtD,EAAAC,EAAAC,cAACsE,EAAD,CACE7E,WArBmB,SAAA2E,GACvBvB,EAAWuB,EAAMC,OAAOpE,QAqBpBP,aAlBqB,SAAA0E,GACzBnB,EAAamB,EAAMC,OAAOpE,QAkBtBN,KAAMiD,EACNhD,OAAQoD,EACRnD,SAxHU,SAAAuE,GACdA,EAAMvD,iBACN,IAAM0D,EAAc/B,EAAQzB,OAAO,SAAAH,GAAM,OAAIA,EAAOjB,OAASiD,IAC7D,GAA2B,IAAvB2B,EAAYC,QACd,GACEC,OAAOC,QAAP,GAAAC,OACK/B,EADL,0FAGA,CACA,IAAMgC,EAAIL,EAAY,GAChBM,EAAOvC,OAAAwC,EAAA,EAAAxC,CAAA,GAAQsC,EAAR,CAAWhF,OAAQoD,IAChCW,EACUiB,EAAGC,GACVrD,KAAK,SAAAuD,GACJtC,EACED,EAAQjC,IAAI,SAAAqE,GAAC,OACXG,EAAehD,KAAO6C,EAAE7C,GAAKgD,EAAiBH,KAGlDnB,EAAuB,CACrBxC,QAAO,GAAA0D,OAAKI,EAAepF,KAApB,iBACPuB,OAAO,IAET8D,WAAW,WACTvB,EAAuB,CAAExC,QAAS,KAAMC,OAAO,KAC9C,KACH2B,EAAW,IACXI,EAAa,MAEdY,MAAM,SAAA3C,GACLuC,EAAuB,CACrBxC,QAAO,GAAA0D,OAAKC,EAAEjF,KAAP,yCACPuB,OAAO,IAET8D,WAAW,WACTvB,EAAuB,CAAExC,QAAS,KAAMC,OAAO,KAC9C,KACHuB,EAAWD,EAAQzB,OAAO,SAAAH,GAAM,OAAIA,EAAOmB,KAAO6C,EAAE7C,aAGrD,CACL,IAAMnB,EAAS,CACbmB,GAAIS,EAAQgC,OAAS,EACrB7E,KAAMiD,EACNhD,OAAQoD,GAEVW,EACW/C,GACRY,KAAK,SAAAuD,GACJtC,EAAWD,EAAQmC,OAAOI,IAC1BtB,EAAuB,CACrBxC,QAAO,GAAA0D,OAAK/D,EAAOjB,KAAZ,eACPuB,OAAO,IAET8D,WAAW,WACTvB,EAAuB,CAAExC,QAAS,KAAMC,OAAO,KAC9C,KACH2B,EAAW,IACXI,EAAa,MAEdY,MAAM,SAAAC,GAAG,OAAIlC,QAAQC,IAAI,SAAUiC,SA8DtChE,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACiF,EAAD,CAAS5E,SAAU0D,EAAkBzD,aA3DpB,SAAAM,GACf6D,OAAOC,QAAP,mCAAAC,OAAkD/D,EAAOjB,KAAzD,OACFgE,EACgB/C,GACbY,KAAK,SAAAuD,GACJtC,EAAWD,EAAQzB,OAAO,SAAAP,GAAC,OAAIA,EAAEb,OAASiB,EAAOjB,QACjD8D,EAAuB,CACrBxC,QAAO,GAAA0D,OAAK/D,EAAOjB,KAAZ,iBACPuB,OAAO,IAET8D,WAAW,WACTvB,EAAuB,CAAExC,QAAS,KAAMC,OAAO,KAC9C,OAEJ2C,MAAM,SAAA3C,GACLuC,EAAuB,CACrBxC,QAAO,GAAA0D,OAAK/D,EAAOjB,KAAZ,oCACPuB,OAAO,IAET8D,WAAW,WACTvB,EAAuB,CAAExC,QAAS,KAAMC,OAAO,KAC9C,KACHuB,EAAWD,EAAQzB,OAAO,SAAA6D,GAAC,OAAIA,EAAE7C,KAAOnB,EAAOmB,aC5GzDmD,IAASC,OAAOrF,EAAAC,EAAAC,cAACoF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.5dcc551c.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Personform = ({ nameChange, numberChange, name, number, onSubmit }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        <h3>Add a new contact</h3>\n        name: <input value={name} onChange={nameChange} /> number:{\" \"}\n        <input value={number} onChange={numberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Personform;\n","import React from \"react\";\n\nconst Persons = ({ contacts, deletePerson }) => {\n  const onDelete = (event, person) => {\n    event.preventDefault();\n    deletePerson(person);\n  };\n\n  return (\n    <table>\n      <tbody>\n        {contacts.map(i => (\n          <tr key={i.name + i.number + \"row\"}>\n            <td key={i.name + i.number + 1}>{i.name}</td>\n            <td key={i.name + i.number + 2}>{i.number}</td>\n            <td key={i.name + i.number + 3}>\n              <button onClick={e => onDelete(e, i)}>delete</button>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Filter = ({ filter, onChange }) => {\n  return (\n    <div>\n      filter shown with: <input value={filter} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className={error ? \"error\" : \"success\"}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseURL = \"/api/persons/\";\n\nconst getPersons = () => {\n  const request = axios.get(baseURL);\n  return request.then(response => response.data);\n};\n\nconst postNew = person => {\n  const request = axios.post(baseURL, person);\n  return request.then(response => response.data);\n};\n\nconst deletePerson = person => {\n  console.log(\"deleting\", person);\n  const request = axios.delete(baseURL + person.id);\n  return request.then(response => response.data);\n};\n\nconst update = (person, updatedPerson) => {\n  const request = axios.put(baseURL + person.id, updatedPerson);\n  return request.then(response => response.data);\n};\n\nexport default { getPersons, postNew, deletePerson, update };\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Personform from \"./components/Personform\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterString, setNewFilter] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState({\n    message: null,\n    error: false\n  });\n\n  useEffect(() => {\n    personService\n      .getPersons()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      })\n      .catch(err => console.log(\"error:\", err));\n  }, []);\n\n  const addName = event => {\n    event.preventDefault();\n    const filteredArr = persons.filter(person => person.name === newName);\n    if (filteredArr.length !== 0) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, do you want to replace the contact with a new number?`\n        )\n      ) {\n        const p = filteredArr[0];\n        const updated = { ...p, number: newNumber };\n        personService\n          .update(p, updated)\n          .then(returnedPerson => {\n            setPersons(\n              persons.map(p =>\n                returnedPerson.id === p.id ? returnedPerson : p\n              )\n            );\n            setNotificationMessage({\n              message: `${returnedPerson.name} was updated!`,\n              error: false\n            });\n            setTimeout(() => {\n              setNotificationMessage({ message: null, error: false });\n            }, 5000);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch(error => {\n            setNotificationMessage({\n              message: `${p.name} isn't yet added to server, try again`,\n              error: true\n            });\n            setTimeout(() => {\n              setNotificationMessage({ message: null, error: false });\n            }, 5000);\n            setPersons(persons.filter(person => person.id !== p.id));\n          });\n      }\n    } else {\n      const person = {\n        id: persons.length + 1,\n        name: newName,\n        number: newNumber\n      };\n      personService\n        .postNew(person)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson));\n          setNotificationMessage({\n            message: `${person.name} was added!`,\n            error: false\n          });\n          setTimeout(() => {\n            setNotificationMessage({ message: null, error: false });\n          }, 5000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch(err => console.log(\"error:\", err));\n    }\n  };\n\n  const deletePerson = person => {\n    if (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n      personService\n        .deletePerson(person)\n        .then(returnedPerson => {\n          setPersons(persons.filter(i => i.name !== person.name));\n          setNotificationMessage({\n            message: `${person.name} was deleted!`,\n            error: false\n          });\n          setTimeout(() => {\n            setNotificationMessage({ message: null, error: false });\n          }, 5000);\n        })\n        .catch(error => {\n          setNotificationMessage({\n            message: `${person.name} was already deleted from server`,\n            error: true\n          });\n          setTimeout(() => {\n            setNotificationMessage({ message: null, error: false });\n          }, 5000);\n          setPersons(persons.filter(p => p.id !== person.id));\n        });\n    }\n  };\n\n  const filteredContacts = persons.filter(person =>\n    person.name.toLowerCase().includes(filterString.toLowerCase())\n  );\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value);\n  };\n\n  return (\n    <div className=\"App\">\n      <h2>Phonebook</h2>\n      <Notification\n        message={notificationMessage.message}\n        error={notificationMessage.error}\n      />\n      <Filter onChange={handleFilterChange} filter={filterString} />\n      <Personform\n        nameChange={handleNameChange}\n        numberChange={handleNumberChange}\n        name={newName}\n        number={newNumber}\n        onSubmit={addName}\n      />\n      <h2>Numbers</h2>\n      <Persons contacts={filteredContacts} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}